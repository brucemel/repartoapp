<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SistemaRep - Demo Completo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            background: #10b981;
            color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 2000;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .stat-card {
            transition: transform 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-4px);
        }

        .sidebar-link {
            transition: all 0.2s;
        }

        .sidebar-link:hover {
            background: #eff6ff;
            padding-left: 1.5rem;
        }

        .sidebar-link.active {
            background: #dbeafe;
            color: #2563eb;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-50">

<!-- App Container -->
<div id="app">
    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
        <div class="w-full max-w-md">
            <!-- Logo -->
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4">
                    <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>
                    </svg>
                </div>
                <h1 class="text-3xl font-bold text-gray-900">SistemaRep</h1>
                <p class="text-gray-600 mt-2">Sistema de Gesti√≥n de Reparto</p>
            </div>

            <!-- Login Card -->
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Iniciar Sesi√≥n</h2>
                
                <form onsubmit="login(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="loginEmail" value="demo@sistemarep.com" 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Contrase√±a</label>
                        <input type="password" id="loginPassword" value="demo123" 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    
                    <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition">
                        Ingresar al Sistema
                    </button>
                </form>

                <div class="mt-6 pt-6 border-t">
                    <p class="text-sm text-gray-600 text-center mb-3">Acceso r√°pido demo:</p>
                    <div class="grid grid-cols-3 gap-2">
                        <button onclick="quickLogin('jefe')" class="px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50">
                            Jefe
                        </button>
                        <button onclick="quickLogin('repartidor')" class="px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50">
                            Repartidor
                        </button>
                        <button onclick="quickLogin('vendedor')" class="px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50">
                            Vendedor
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboardScreen" class="hidden">
        <!-- Sidebar -->
        <aside class="fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200 z-50">
            <div class="p-6 border-b">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold">SistemaRep</h1>
                        <p class="text-xs text-gray-500">Demo v1.0</p>
                    </div>
                </div>
            </div>

            <div class="p-4 border-b">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                        <span class="text-blue-600 font-semibold text-sm" id="userInitial">D</span>
                    </div>
                    <div>
                        <p class="text-sm font-medium" id="userName">Usuario Demo</p>
                        <p class="text-xs text-gray-500 capitalize" id="userRole">jefe</p>
                    </div>
                </div>
            </div>

            <nav class="p-4 space-y-1">
                <a href="#" onclick="showView('dashboard')" class="sidebar-link active flex items-center space-x-3 px-4 py-3 rounded-lg">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    <span>Dashboard</span>
                </a>
                <a href="#" onclick="showView('clientes')" class="sidebar-link flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                    <span>Clientes</span>
                </a>
                <a href="#" onclick="showView('reparto')" class="sidebar-link flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path>
                    </svg>
                    <span>Programar Reparto</span>
                </a>
                <a href="#" onclick="showView('entregas')" class="sidebar-link flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                    </svg>
                    <span>Entregas</span>
                </a>
                <a href="#" onclick="showView('cuentas')" class="sidebar-link flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span>Cuentas por Cobrar</span>
                </a>
            </nav>

            <div class="absolute bottom-0 left-0 right-0 p-4 border-t">
                <button onclick="logout()" class="w-full flex items-center justify-center space-x-2 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                    </svg>
                    <span>Cerrar Sesi√≥n</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="ml-64 min-h-screen">
            <!-- Top Bar -->
            <div class="bg-white border-b border-gray-200 px-8 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-xl font-bold text-gray-900" id="viewTitle">Dashboard</h2>
                        <p class="text-sm text-gray-600" id="viewDate">S√°bado, 17 de enero de 2026</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button class="relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                            </svg>
                            <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="p-8">
                <!-- Dashboard View -->
                <div id="dashboardView" class="view-content">
                    <!-- Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="stat-card bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600">Clientes Activos</p>
                                    <p class="text-3xl font-bold text-gray-900 mt-2">45</p>
                                </div>
                                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600">Entregas Hoy</p>
                                    <p class="text-3xl font-bold text-gray-900 mt-2">12/18</p>
                                </div>
                                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600">Cobrado Hoy</p>
                                    <p class="text-3xl font-bold text-green-600 mt-2">S/. 4,250</p>
                                </div>
                                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600">Por Cobrar</p>
                                    <p class="text-3xl font-bold text-red-600 mt-2">S/. 8,340</p>
                                </div>
                                <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold mb-4">Acciones R√°pidas</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="showView('clientes')" class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition">
                                    <svg class="w-8 h-8 text-blue-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                                    </svg>
                                    <p class="text-sm font-medium">Nuevo Cliente</p>
                                </button>
                                <button onclick="showView('reparto')" class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition">
                                    <svg class="w-8 h-8 text-green-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path>
                                    </svg>
                                    <p class="text-sm font-medium">Programar Reparto</p>
                                </button>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold mb-4">Entregas Pendientes</h3>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                                    <div>
                                        <p class="font-medium text-sm">Juan P√©rez - Gamarra</p>
                                        <p class="text-xs text-gray-600">GR-001 ‚Ä¢ S/. 450</p>
                                    </div>
                                    <span class="px-2 py-1 bg-yellow-200 text-yellow-800 text-xs rounded">Pendiente</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                                    <div>
                                        <p class="font-medium text-sm">Mar√≠a Garc√≠a - Mesa Redonda</p>
                                        <p class="text-xs text-gray-600">GR-002 ‚Ä¢ S/. 320</p>
                                    </div>
                                    <span class="px-2 py-1 bg-yellow-200 text-yellow-800 text-xs rounded">Pendiente</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Clientes View -->
                <div id="clientesView" class="view-content hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h3 class="text-xl font-semibold">Gesti√≥n de Clientes</h3>
                            <p class="text-sm text-gray-600">45 clientes activos</p>
                        </div>
                        <button onclick="openAddClientModal()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            <span>Agregar Cliente</span>
                        </button>
                    </div>

                    <!-- Search -->
                    <div class="mb-6">
                        <input type="text" id="searchClients" onkeyup="filterClients()" placeholder="Buscar clientes..." 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    </div>

                    <!-- Clients Grid -->
                    <div id="clientsGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Client cards will be inserted here by JS -->
                    </div>
                </div>

                <!-- Reparto View -->
                <div id="repartoView" class="view-content hidden">
                    <h3 class="text-xl font-semibold mb-6">Programar Reparto</h3>
                    
                    <div class="grid lg:grid-cols-3 gap-6">
                        <div class="lg:col-span-2 space-y-4">
                            <div class="grid grid-cols-3 gap-4 mb-6">
                                <div class="bg-white p-4 rounded-lg shadow-sm border">
                                    <p class="text-sm text-gray-600">Clientes</p>
                                    <p class="text-2xl font-bold">0</p>
                                </div>
                                <div class="bg-white p-4 rounded-lg shadow-sm border">
                                    <p class="text-sm text-gray-600">Total</p>
                                    <p class="text-2xl font-bold">S/. 0</p>
                                </div>
                                <div class="bg-white p-4 rounded-lg shadow-sm border">
                                    <p class="text-sm text-gray-600">Fecha</p>
                                    <p class="text-lg font-bold">Hoy</p>
                                </div>
                            </div>

                            <button onclick="showToast('Agrega clientes al reparto')" class="w-full p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold">
                                + Agregar Clientes al Reparto
                            </button>

                            <div class="bg-white p-8 rounded-lg shadow-sm border text-center text-gray-500">
                                <svg class="w-16 h-16 mx-auto mb-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path>
                                </svg>
                                <p>No hay clientes en el reparto</p>
                                <p class="text-sm mt-2">Haz clic en "Agregar Clientes" para comenzar</p>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-sm border p-6">
                            <h4 class="font-semibold mb-4">Configuraci√≥n</h4>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Fecha de Entrega</label>
                                    <input type="date" value="2026-01-17" class="w-full px-3 py-2 border rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Asignar Repartidor</label>
                                    <select class="w-full px-3 py-2 border rounded-lg">
                                        <option>Sin asignar</option>
                                        <option>Carlos Ruiz</option>
                                        <option>Pedro S√°nchez</option>
                                    </select>
                                </div>
                                <button class="w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold mt-6">
                                    Programar Entregas
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Entregas View -->
                <div id="entregasView" class="view-content hidden">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-semibold">Entregas</h3>
                        <input type="date" value="2026-01-17" class="px-3 py-2 border rounded-lg">
                    </div>

                    <div class="grid grid-cols-4 gap-4 mb-6">
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Total</p>
                            <p class="text-2xl font-bold">18</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Completadas</p>
                            <p class="text-2xl font-bold text-green-600">12</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Pendientes</p>
                            <p class="text-2xl font-bold text-orange-600">6</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Cobrado</p>
                            <p class="text-lg font-bold text-green-600">S/. 4,250</p>
                        </div>
                    </div>

                    <div class="space-y-3" id="deliveriesList">
                        <!-- Deliveries will be inserted here -->
                    </div>
                </div>

                <!-- Cuentas View -->
                <div id="cuentasView" class="view-content hidden">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-semibold">Cuentas por Cobrar</h3>
                        <button onclick="exportToExcel()" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                            Exportar Excel
                        </button>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-xl p-6 shadow-sm border">
                            <h4 class="text-sm text-gray-600 mb-2">Total por Cobrar</h4>
                            <p class="text-4xl font-bold text-red-600">S/. 8,340</p>
                        </div>
                        <div class="bg-white rounded-xl p-6 shadow-sm border">
                            <h4 class="text-sm text-gray-600 mb-2">Clientes Deudores</h4>
                            <p class="text-4xl font-bold text-orange-600">8</p>
                        </div>
                    </div>

                    <div class="space-y-4" id="debtorsList">
                        <!-- Debtors will be inserted here -->
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>

<!-- Add Client Modal -->
<div id="addClientModal" class="modal">
    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
        <div class="p-6 border-b flex items-center justify-between">
            <h3 class="text-xl font-semibold">Agregar Cliente</h3>
            <button onclick="closeAddClientModal()" class="text-gray-500 hover:text-gray-700">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        <form onsubmit="addClient(event)" class="p-6 space-y-4">
            <div class="grid md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Nombre Completo *</label>
                    <input type="text" id="clientName" required class="w-full px-3 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">DNI</label>
                    <input type="text" id="clientDNI" maxlength="8" class="w-full px-3 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Tel√©fono</label>
                    <input type="tel" id="clientPhone" class="w-full px-3 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Zona</label>
                    <select id="clientZone" class="w-full px-3 py-2 border rounded-lg">
                        <option value="">Seleccionar...</option>
                        <option>Gamarra</option>
                        <option>Mesa Redonda</option>
                        <option>Mercado Central</option>
                        <option>Cercado</option>
                        <option>La Victoria</option>
                    </select>
                </div>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Direcci√≥n</label>
                <input type="text" id="clientAddress" class="w-full px-3 py-2 border rounded-lg">
            </div>
            <div class="flex gap-3 pt-4">
                <button type="button" onclick="closeAddClientModal()" class="flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50">
                    Cancelar
                </button>
                <button type="submit" class="flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                    Guardar Cliente
                </button>
            </div>
        </form>
    </div>
</div>

<script>
// Data Store
let clients = [
    { id: 1, name: 'Juan P√©rez', dni: '12345678', phone: '923190308', zone: 'Gamarra', address: 'Av. Gamarra 123', debt: 450 },
    { id: 2, name: 'Mar√≠a Garc√≠a', dni: '87654321', phone: '987654321', zone: 'Mesa Redonda', address: 'Jr. Ucayali 456', debt: 320 },
    { id: 3, name: 'Carlos L√≥pez', dni: '11223344', phone: '912345678', zone: 'Mercado Central', address: 'Jr. Ayacucho 789', debt: 0 },
    { id: 4, name: 'Ana Torres', dni: '44332211', phone: '998877665', zone: 'Gamarra', address: 'Av. Aviaci√≥n 321', debt: 280 },
    { id: 5, name: 'Pedro S√°nchez', dni: '55667788', phone: '955443322', zone: 'La Victoria', address: 'Jr. Puno 654', debt: 0 },
    { id: 6, name: 'Rosa Mart√≠nez', dni: '99887766', phone: '922334455', zone: 'Cercado', address: 'Jr. Lima 987', debt: 150 },
    { id: 7, name: 'Luis Ram√≠rez', dni: '66778899', phone: '933445566', zone: 'Mesa Redonda', address: 'Jr. Andahuaylas 147', debt: 520 },
    { id: 8, name: 'Carmen Flores', dni: '77889900', phone: '944556677', zone: 'Gamarra', address: 'Av. Grau 258', debt: 0 }
];

let deliveries = [
    { id: 1, clientName: 'Juan P√©rez', zone: 'Gamarra', guide: 'GR-001', amount: 450, paid: 0, status: 'pendiente' },
    { id: 2, clientName: 'Mar√≠a Garc√≠a', zone: 'Mesa Redonda', guide: 'GR-002', amount: 320, paid: 0, status: 'pendiente' },
    { id: 3, clientName: 'Carlos L√≥pez', zone: 'Mercado Central', guide: 'GR-003', amount: 580, paid: 580, status: 'completado' },
    { id: 4, clientName: 'Ana Torres', zone: 'Gamarra', guide: 'GR-004', amount: 280, paid: 0, status: 'pendiente' },
    { id: 5, clientName: 'Pedro S√°nchez', zone: 'La Victoria', guide: 'GR-005', amount: 420, paid: 420, status: 'completado' },
    { id: 6, clientName: 'Rosa Mart√≠nez', zone: 'Cercado', guide: 'GR-006', amount: 350, paid: 200, status: 'completado' },
    { id: 7, clientName: 'Luis Ram√≠rez', zone: 'Mesa Redonda', guide: 'GR-007', amount: 520, paid: 0, status: 'pendiente' },
    { id: 8, clientName: 'Carmen Flores', zone: 'Gamarra', guide: 'GR-008', amount: 380, paid: 380, status: 'completado' }
];

let currentUser = { role: 'jefe', name: 'Usuario Demo' };

// Auth Functions
function login(e) {
    e.preventDefault();
    document.getElementById('loginScreen').classList.add('hidden');
    document.getElementById('dashboardScreen').classList.remove('hidden');
    showToast('¬°Bienvenido a SistemaRep!');
}

function quickLogin(role) {
    currentUser.role = role;
    currentUser.name = role.charAt(0).toUpperCase() + role.slice(1) + ' Demo';
    document.getElementById('userRole').textContent = role;
    document.getElementById('userName').textContent = currentUser.name;
    document.getElementById('loginScreen').classList.add('hidden');
    document.getElementById('dashboardScreen').classList.remove('hidden');
    showToast('¬°Bienvenido ' + currentUser.name + '!');
}

function logout() {
    if (confirm('¬øEst√°s seguro de cerrar sesi√≥n?')) {
        document.getElementById('loginScreen').classList.remove('hidden');
        document.getElementById('dashboardScreen').classList.add('hidden');
        showToast('Sesi√≥n cerrada');
    }
}

// View Functions
function showView(viewName) {
    // Hide all views
    document.querySelectorAll('.view-content').forEach(v => v.classList.add('hidden'));
    
    // Show selected view
    document.getElementById(viewName + 'View').classList.remove('hidden');
    
    // Update sidebar active state
    document.querySelectorAll('.sidebar-link').forEach(link => {
        link.classList.remove('active');
    });
    event.target.closest('.sidebar-link').classList.add('active');
    
    // Update title
    const titles = {
        dashboard: 'Dashboard',
        clientes: 'Gesti√≥n de Clientes',
        reparto: 'Programar Reparto',
        entregas: 'Entregas',
        cuentas: 'Cuentas por Cobrar'
    };
    document.getElementById('viewTitle').textContent = titles[viewName];
    
    // Load data for view
    if (viewName === 'clientes') renderClients();
    if (viewName === 'entregas') renderDeliveries();
    if (viewName === 'cuentas') renderDebtors();
}

// Client Functions
function renderClients() {
    const grid = document.getElementById('clientsGrid');
    grid.innerHTML = clients.map(client => `
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition">
            <div class="flex items-start justify-between mb-3">
                <div>
                    <h4 class="font-semibold text-gray-900">${client.name}</h4>
                    ${client.dni ? `<p class="text-sm text-gray-600">DNI: ${client.dni}</p>` : ''}
                </div>
                <div class="flex gap-1">
                    <button onclick="editClient(${client.id})" class="p-1 text-blue-600 hover:bg-blue-50 rounded">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                        </svg>
                    </button>
                    <button onclick="deleteClient(${client.id})" class="p-1 text-red-600 hover:bg-red-50 rounded">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
            ${client.phone ? `
                <div class="flex items-center text-sm text-gray-600 mb-2">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                    </svg>
                    ${client.phone}
                </div>
            ` : ''}
            ${client.zone ? `
                <div class="flex items-center text-sm text-gray-600 mb-2">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    ${client.zone}
                </div>
            ` : ''}
            ${client.debt > 0 ? `
                <div class="mt-3 pt-3 border-t">
                    <span class="text-sm text-red-600 font-semibold">Deuda: S/. ${client.debt}</span>
                </div>
            ` : ''}
        </div>
    `).join('');
}

function filterClients() {
    const search = document.getElementById('searchClients').value.toLowerCase();
    const filtered = clients.filter(c => 
        c.name.toLowerCase().includes(search) ||
        c.dni?.includes(search) ||
        c.zone?.toLowerCase().includes(search)
    );
    
    const grid = document.getElementById('clientsGrid');
    grid.innerHTML = filtered.map(client => `
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
            <h4 class="font-semibold">${client.name}</h4>
            <p class="text-sm text-gray-600">${client.zone || 'Sin zona'}</p>
            ${client.phone ? `<p class="text-sm text-gray-600">üìû ${client.phone}</p>` : ''}
        </div>
    `).join('');
}

function openAddClientModal() {
    document.getElementById('addClientModal').classList.add('active');
}

function closeAddClientModal() {
    document.getElementById('addClientModal').classList.remove('active');
    document.getElementById('clientName').value = '';
    document.getElementById('clientDNI').value = '';
    document.getElementById('clientPhone').value = '';
    document.getElementById('clientZone').value = '';
    document.getElementById('clientAddress').value = '';
}

function addClient(e) {
    e.preventDefault();
    const newClient = {
        id: clients.length + 1,
        name: document.getElementById('clientName').value,
        dni: document.getElementById('clientDNI').value,
        phone: document.getElementById('clientPhone').value,
        zone: document.getElementById('clientZone').value,
        address: document.getElementById('clientAddress').value,
        debt: 0
    };
    clients.push(newClient);
    closeAddClientModal();
    renderClients();
    showToast('‚úÖ Cliente agregado exitosamente');
}

function editClient(id) {
    showToast('Funci√≥n de edici√≥n disponible en versi√≥n completa');
}

function deleteClient(id) {
    if (confirm('¬øEliminar este cliente?')) {
        clients = clients.filter(c => c.id !== id);
        renderClients();
        showToast('Cliente eliminado');
    }
}

// Delivery Functions
function renderDeliveries() {
    const list = document.getElementById('deliveriesList');
    list.innerHTML = deliveries.map(d => `
        <div class="bg-white rounded-lg shadow-sm border p-4 ${d.status === 'completado' ? 'bg-green-50 border-green-200' : ''}">
            <div class="flex items-center justify-between mb-3">
                <div>
                    <h4 class="font-semibold text-lg">${d.clientName}</h4>
                    <p class="text-sm text-gray-600">${d.zone} ‚Ä¢ Gu√≠a: ${d.guide}</p>
                </div>
                <div class="text-right">
                    <p class="text-xl font-bold">S/. ${d.amount}</p>
                    ${d.status === 'completado' ? 
                        '<span class="text-sm text-green-600 flex items-center"><svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Completado</span>' :
                        '<span class="text-sm text-orange-600">Pendiente</span>'
                    }
                </div>
            </div>
            ${d.status === 'completado' ? `
                <div class="pt-3 border-t grid grid-cols-2 gap-4 text-sm">
                    <div><span class="text-gray-600">Pagado:</span> <span class="font-semibold text-green-600">S/. ${d.paid}</span></div>
                    <div><span class="text-gray-600">Pendiente:</span> <span class="font-semibold text-red-600">S/. ${d.amount - d.paid}</span></div>
                </div>
            ` : `
                <button onclick="markDelivered(${d.id})" class="w-full mt-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                    ‚úì Marcar como Entregado
                </button>
            `}
        </div>
    `).join('');
}

function markDelivered(id) {
    const delivery = deliveries.find(d => d.id === id);
    if (delivery) {
        delivery.status = 'completado';
        delivery.paid = delivery.amount;
        renderDeliveries();
        showToast('‚úÖ Entrega marcada como completada');
    }
}

// Debtors Functions
function renderDebtors() {
    const debtors = clients.filter(c => c.debt > 0);
    const list = document.getElementById('debtorsList');
    
    list.innerHTML = debtors.map(debtor => `
        <div class="bg-white rounded-lg shadow-sm border p-6">
            <div class="flex items-center justify-between">
                <div>
                    <h4 class="text-lg font-semibold">${debtor.name}</h4>
                    <p class="text-sm text-gray-600">${debtor.zone || 'Sin zona'} ${debtor.phone ? '‚Ä¢ ' + debtor.phone : ''}</p>
                </div>
                <div class="text-right">
                    <p class="text-sm text-gray-600">Deuda Total</p>
                    <p class="text-2xl font-bold text-red-600">S/. ${debtor.debt}</p>
                </div>
            </div>
        </div>
    `).join('');
}

// Utility Functions
function showToast(message) {
    const toast = document.createElement('div');
    toast.className = 'toast';
    toast.textContent = message;
    document.body.appendChild(toast);
    
    setTimeout(() => {
        toast.remove();
    }, 3000);
}

function exportToExcel() {
    showToast('üìä Exportando a Excel...');
    setTimeout(() => {
        showToast('‚úÖ Archivo descargado: cuentas_por_cobrar.xlsx');
    }, 1500);
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    renderClients();
    renderDeliveries();
    renderDebtors();
});
</script>

</body>
</html>
